# =============================================================================
# ONBOARDING-02: Password Strength Indicator
# Verifies that the registration form shows real-time password strength
# feedback as the user types: Weak -> Fair -> Strong.
# =============================================================================
appId: com.mindlog.app

---

# Launch with a clean slate
- launchApp:
    clearState: true

# Connect to Metro dev server (Expo Dev Client)
- runFlow: ../../subflows/connect_dev_server.yaml

# Wait for onboarding screen
- extendedWaitUntil:
    visible:
      text: "MindLog"
    timeout: 10000

# Switch to the Register tab
- tapOn:
    id: "tab-register"

# Tap on the password input field
- tapOn:
    text: "Create a strong password"

# --- Test Weak password ---
- inputText: "abc"

- assertVisible:
    text: "Weak"

# --- Test Fair password ---
- clearInput
- inputText: "Abc12345678"

- assertVisible:
    text: "Fair"

# --- Test Strong password ---
- clearInput
- inputText: "Abc12345678!"

- assertVisible:
    text: "Strong"

- takeScreenshot: screenshots/onboarding_password_strength
